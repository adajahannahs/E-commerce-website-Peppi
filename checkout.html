<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="checkoutstyles/checkout.css"> 
    <link rel="stylesheet" href="checkoutstyles/checkout-header.css">  

    <style>
        /* Add this style block to set the size of the product image */
        .cart-product-image {
            width: 150px; /* Set your desired width */
            height: auto; /* Maintain aspect ratio */
        }
    </style>
</head>
<body>
    <div class="fixed-to-the-top-header">
        <div class="header">
            <div class="left-section-header">
                <div class="logo-of-the-website">
                    PEPPI'S WORLD
                </div> 
            </div>
            
            <div class="right-section-header">
                Shopping Cart
            </div>
        </div>
    </div>

    <div class="cart-box">
        <div>
            <img id="product-image" class="cart-product-image" alt="">
        </div>

        <div class="code-colour-size-container">
            <div id="product-name-code" class="product-name-code">
                Code 0328
            </div>
            <div id="product-color" class="colour-size-container">
                <div>
                    Color: yellow</span>
                </div>
                <div id="product-size">
                    Size: 39</span>
                </div>
            </div>
        </div>

        <div class="remove-add-container">
            <div onclick="updateQuantity('-')">
                -
            </div>
            <button id="quantity" disabled>
                1
            </button>
            <div onclick="updateQuantity('+')">
                +
            </div>
        </div>
        <div id="product-price" class="product-price">
            NGN 15,000
        </div>

        <div class="remove-icon">
            x
        </div>
    </div>

    <div class="total-container">
        <div class="total-title">
            NGN 15,000
        </div>
        <div class="total-price">
        </div>
    </div>

    <button class="checkout-button">
        Checkout
    </button>

    <script>

let quantity = 1;
        const basePrice = 15000; // Replace with your actual base price

        function updateQuantity(operation) {
            if (operation === '+' && quantity < 10) {
                quantity++;
            } else if (operation === '-' && quantity > 1) {
                quantity--;
            }

            document.getElementById('quantity').innerText = quantity;
            updateTotalPrice();
        }

        function updateTotalPrice() {
            const totalPrice = basePrice * quantity;
            document.getElementById('total-price').innerText = `NGN ${totalPrice.toLocaleString()}`;
        }


        function displaySelectedData() {
            const queryString = window.location.search;
            const urlParams = new URLSearchParams(queryString);
            const productInfo = urlParams.get('product');

            if (productInfo) {
                const parsedProductInfo = JSON.parse(decodeURIComponent(productInfo));
                document.getElementById('product-image').src = parsedProductInfo.image;
                document.getElementById('product-name-code').innerText = parsedProductInfo.name;
                document.getElementById('selected-color').innerText = parsedProductInfo.color;
                document.getElementById('selected-size').innerText = parsedProductInfo.size;
                document.getElementById('product-price').innerText = parsedProductInfo.allocatedPrice;
            }
        }

        window.onload = function () {
            displaySelectedData();
            document.getElementById('quantity').innerText = quantity;
            updateTotalPrice();
        };
    </script>
</body>
</html>
